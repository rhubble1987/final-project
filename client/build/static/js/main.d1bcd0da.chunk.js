(this.webpackJsonploopti=this.webpackJsonploopti||[]).push([[0],{113:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),n=a(17),r=a.n(n),l=(a(63),a(7)),o=(a(41),a(64),a(19)),i=a(6),j=a(18),u=a.n(j),d=a(22),b=a(23),h=a.n(b),O=(a(83),a(1)),m=function(e){var t=e.children,a=e.label;return Object(O.jsxs)("div",{className:"form-group",children:[a&&Object(O.jsx)("label",{children:a}),t]})},p=function(e){var t=e.type,a=e.value,s=e.onChange,c=e.placeholder;return Object(O.jsx)("input",{type:t,value:a,onChange:s,className:"form-control",placeholder:c})};p.defaultProps={type:"text",value:"",onChange:Function.prototype,placeholder:""};var x=p,f=h.a.create({baseURL:"http://localhost:3005/"}),g=function(e){var t=Object(s.useState)(""),a=Object(l.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(""),o=Object(l.a)(r,2),j=o[0],b=o[1],h=Object(s.useState)(""),p=Object(l.a)(h,2),g=p[0],v=p[1],k=Object(i.g)(),N=Object(s.useState)([]),S=Object(l.a)(N,2),y=S[0],w=S[1],T=function(){var e=[];return 0===c.length?e.push("Please provide email address"):c.length>40&&e.push("Please enter a valid email"),0===j.length?e.push("Please provide password.!"):j.length>20&&e.push("Password should not exceed 20 char.s"),w(e),0===e.length};return Object(O.jsxs)("form",{children:[Object(O.jsx)("h3",{children:"Log in"}),Object(O.jsx)(m,{label:"Email",children:Object(O.jsx)(x,{type:"email",value:c,onChange:function(e){return n(e.target.value)},placeholder:"Enter email"})}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:"Password"}),Object(O.jsx)("input",{type:"password",value:j,onChange:function(e){return b(e.target.value)},className:"form-control",placeholder:"Enter password"})]}),Object(O.jsx)(m,{children:Object(O.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(O.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),Object(O.jsx)("label",{className:"custom-control-label",htmlFor:"customCheck1",children:"Remember me"})]})}),g&&Object(O.jsx)("label",{className:"text-danger",children:g}),y.map((function(e){return Object(O.jsxs)("span",{children:[Object(O.jsx)("label",{className:"text-danger",children:e}),Object(O.jsx)("br",{})]})})),Object(O.jsx)("button",{type:"submit",className:"btn btn-dark btn-lg btn-block",onClick:function(t,a){return function(){var s=Object(d.a)(u.a.mark((function s(c){var n;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(c.preventDefault(),v(""),!T()){s.next=7;break}return s.next=5,r={email:t,password:a},f.post("/api/users/signin",r).then((function(e){return{status:!0,data:e.data}})).catch((function(e){return{status:!1,data:e.response.data.status}}));case 5:(n=s.sent).status?(e.setJWT(n.data.jwt),localStorage.setItem("user",JSON.stringify(n.data)),k.push("/tasks")):(localStorage.removeItem("user"),v(n.data));case 7:case"end":return s.stop()}var r}),s)})));return function(e){return s.apply(this,arguments)}}()}(c,j),children:"Sign in"}),Object(O.jsxs)("p",{className:"forgot-password text-right",children:["Forgot ",Object(O.jsx)("a",{href:"#",children:"password?"})]})]})},v=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),r=Object(l.a)(n,2),o=r[0],j=r[1],b=Object(s.useState)(""),h=Object(l.a)(b,2),p=h[0],g=h[1],v=Object(s.useState)(""),k=Object(l.a)(v,2),N=k[0],S=k[1],y=Object(s.useState)(""),w=Object(l.a)(y,2),T=w[0],C=w[1],L=Object(i.g)();return Object(O.jsxs)("form",{children:[Object(O.jsx)("h3",{children:"Register"}),Object(O.jsx)(m,{label:"First name",children:Object(O.jsx)(x,{value:p,onChange:function(e){return g(e.target.value)},placeholder:"First name"})}),Object(O.jsx)(m,{label:"Last name",children:Object(O.jsx)(x,{value:N,onChange:function(e){return S(e.target.value)},placeholder:"Last name"})}),Object(O.jsx)(m,{label:"Email",children:Object(O.jsx)(x,{type:"email",value:a,onChange:function(e){return c(e.target.value)},placeholder:"Enter email"})}),Object(O.jsx)(m,{label:"Password",children:Object(O.jsx)(x,{type:"password",value:o,onChange:function(e){return j(e.target.value)},placeholder:"Enter password"})}),Object(O.jsx)(m,{label:"Mobile Number",children:Object(O.jsx)(x,{value:T,onChange:function(e){return C(e.target.value)},placeholder:"(000)000-000"})}),Object(O.jsx)("button",{type:"submit",onClick:function(e,t,a,s,c){return function(){var n=Object(d.a)(u.a.mark((function n(r){var l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.next=3,o={email:e,password:t,firstName:a,lastName:s,mobileNumber:c},f.post("/api/users/sign-up",o).then((function(e){return{status:!0,data:e.data}})).catch((function(e){return{status:!1,data:e.response.data.status}}));case 3:l=n.sent,L.push("/sign-in"),console.log(l);case 6:case"end":return n.stop()}var o}),n)})));return function(e){return n.apply(this,arguments)}}()}(a,o,p,N,T),className:"btn btn-dark btn-lg btn-block",children:"Register"}),Object(O.jsxs)("p",{className:"forgot-password text-right",children:["Already registered ",Object(O.jsx)("a",{href:"#",children:"log in?"})]})]})},k=a(121),N=a(119),S=a(39);a(113);var y=function(e){Object(i.g)();var t=Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(k.a.Link,{href:"/tasks",style:{color:"white"},children:[Object(O.jsx)("i",{className:"fa fa-bullseye px-1",style:{color:"white"}}),"Today's Schedule"]}),Object(O.jsxs)(k.a.Link,{href:"/createTask",style:{color:"white"},children:[Object(O.jsx)("i",{className:"fa fa-plus px-1",style:{color:"white"}})," Add Task"]}),Object(O.jsxs)(k.a.Link,{href:"/eventblock",style:{color:"white"},children:[Object(O.jsx)("i",{className:"fa fa-calendar px-1",style:{color:"white"}})," Add Event"]}),Object(O.jsxs)(k.a.Link,{href:"/alltasks",style:{color:"white"},children:[Object(O.jsx)("i",{className:"fa fa-clipboard-list px-1",style:{color:"white"}})," All Tasks"]}),Object(O.jsx)(k.a,{className:"ml-auto",children:Object(O.jsx)(k.a.Link,{href:"/logout",children:"Logout"})})]}),a=Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(k.a,{className:"ml-auto",children:[Object(O.jsx)(k.a.Link,{href:"/sign-in",children:"Login"}),Object(O.jsx)(k.a.Link,{href:"/sign-up",children:"Sign up"})]})});return Object(O.jsx)("div",{className:"mb-5",children:Object(O.jsxs)(N.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(O.jsxs)(N.a.Brand,{href:"#home",children:["L",Object(O.jsx)(S.a,{icon:"spinner",className:"spinner"}),Object(O.jsx)(S.a,{icon:"spinner",className:"spinner"}),"PTI"]}),Object(O.jsx)(N.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(O.jsx)(N.a.Collapse,{id:"responsive-navbar-nav",children:e.jwt?t:a})]})})},w=a(120),T=a(118),C=a(11),L=a.n(C),D=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),r=Object(l.a)(n,2),o=r[0],j=r[1],u=Object(s.useState)(""),d=Object(l.a)(u,2),b=d[0],h=d[1],m=JSON.parse(localStorage.getItem("user"));Object(i.g)();return Object(O.jsxs)(w.a,{children:["New Task: ",Object(O.jsx)("input",{onChange:function(e){return c(e.target.value)},className:"form-control",type:"text",value:a}),"Due Date: ",Object(O.jsx)("input",{onChange:function(e){return j(e.target.value)},className:"form-control",type:"date",value:o}),Object(O.jsxs)(w.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(O.jsx)(w.a.Label,{children:"Notes:"}),Object(O.jsx)(w.a.Control,{as:"textarea",rows:3,onChange:function(e){return h(e.target.value)},value:b})]}),Object(O.jsx)(T.a,{className:"btn btn-dark btn-lg btn-block",onClick:function(){f.post("/api/tasks/",{userId:m.user.id,taskName:a,dueDate:L()(o).format("YYYYMMDD"),note:b}).then((function(){c(""),j(""),h(""),alert("Task saved!")}))},children:"Submit"})]})},I=a(38);var P=function(e){var t="";L()().format("H")>=e.calculatedStartTime&&L()().format("H")<e.calculatedEndTime&&(Object(I.a)("cls"),t="card text-white bg-success"),L()().format("H")>=e.startTime&&L()().format("H")<e.endTime&&(Object(I.a)("cls"),t="card text-white bg-danger");var a=L()().startOf("day").add(e.scheduleBlock.startTime,"minutes").format("h:mm A"),s=L()().startOf("day").add(e.scheduleBlock.endTime,"minutes").format("h:mm A");if("task"===e.scheduleBlock.scheduleType){var c=L()(e.scheduleBlock.dueDate.toString()).format("MM/DD/YYYY");return Object(O.jsxs)("div",{className:t,children:[Object(O.jsxs)("h5",{className:"card-header",children:[a," - ",s]}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("p",{children:e.scheduleBlock.taskName}),Object(O.jsxs)("p",{children:["Priority: ",e.scheduleBlock.calculatedPriority]}),Object(O.jsxs)("p",{children:["Due: ",c]}),Object(O.jsxs)("p",{children:["Notes: ",e.scheduleBlock.note]})]})]})}return"event"===e.scheduleBlock.scheduleType?Object(O.jsxs)("div",{className:t,children:[Object(O.jsxs)("h5",{className:"card-header",children:[a," - ",s]}),Object(O.jsx)("div",{className:"card-body",children:Object(O.jsx)("p",{children:"This time is blocked off for an event!"})})]}):null};var E=function(){var e=JSON.parse(localStorage.getItem("user")),t=Object(s.useState)([]),a=Object(l.a)(t,2),c=a[0],n=a[1];return Object(s.useEffect)((function(){Promise.all([f.get("/api/events/"+e.user.id),f.get("/api/tasks/"+e.user.id)]).then((function(e){for(var t=[],a=0;a<e[0].data.length;a++)t.push(e[0].data[a]);for(var s=0;s<e[1].data.length;s++)t.push(e[1].data[s]);t.sort((function(e,t){return e.startTime-t.startTime})),console.log("eventsAndTasks"),console.log(t),n(t)})).catch((function(e){console.log(e)}))}),[]),Object(O.jsx)("div",{children:c.length?Object(O.jsx)("div",{children:c.map((function(e){var t=e.scheduleType+e.id;return Object(O.jsx)(P,{scheduleBlock:e},t)}))}):Object(O.jsx)("p",{children:"Nothing to work on today!"})})},B=a(26),F=function(e){return localStorage.getItem("user")||null?Object(O.jsx)(i.b,Object(B.a)({},e)):Object(O.jsx)(i.a,{to:"sign-in"})},J=function(){return Object(s.useEffect)((function(){localStorage.removeItem("user")}),[]),Object(O.jsx)(i.a,{to:"/sign-in"})},Y=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(1),r=Object(l.a)(n,2),o=r[0],j=r[1],u=Object(s.useState)(15),d=Object(l.a)(u,2),b=d[0],h=d[1],m=JSON.parse(localStorage.getItem("user")),p=Object(i.g)();return Object(O.jsxs)(w.a,{children:["Date: ",Object(O.jsx)("input",{onChange:function(e){return c(e.target.value)},className:"form-control",type:"date",value:a}),"Start Time: ",Object(O.jsx)("input",{onChange:function(e){return j(e.target.value)},className:"form-control",type:"time",name:"time",id:"time",value:o}),"End Time: ",Object(O.jsx)("input",{onChange:function(e){return h(e.target.value)},className:"form-control",type:"time",name:"time",id:"time",value:b}),Object(O.jsx)(T.a,{className:"btn btn-dark btn-lg btn-block",onClick:function(){var e={eventDate:a,startTime:o,userId:m.user.id};f.post("/api/tasks",Object(B.a)({},e)).then((function(e){console.log(e),p.push("/tasks")}))},children:"Submit"})]})};var M=function(e){var t=L()(e.task.dueDate.toString()).format("MM/DD/YYYY");return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsxs)("h5",{className:"card-header",children:["Priority ",e.task.calculatedPriority]}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsxs)("p",{children:[e.task.taskName," | Due: ",t]}),Object(O.jsxs)("p",{children:["Notes: ",e.task.note]}),Object(O.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){var t=JSON.parse(localStorage.getItem("user"));f.put("/api/tasks/complete",{id:e.task.id,userId:t.user.id}).then((function(){window.location.reload()}))},"data-complete":e.task.id,children:Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-check-circle",viewBox:"0 0 16 16",children:[Object(O.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(O.jsx)("path",{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"})]})})]})]})};var A=function(){var e=JSON.parse(localStorage.getItem("user")),t=Object(s.useState)([]),a=Object(l.a)(t,2),c=a[0],n=a[1];return Object(s.useEffect)((function(){f.get("/api/tasks/alltasks/"+e.user.id).then((function(e){console.log(e.data),n(e.data)}))}),[]),Object(O.jsx)("div",{children:c.length?Object(O.jsx)("div",{children:c.map((function(e){return Object(O.jsx)(M,{task:e},e.taskName)}))}):Object(O.jsx)("p",{children:"Nothing to work on it seems??"})})};var H=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));e&&c(e.jwt)}),[]),Object(O.jsx)("div",{children:Object(O.jsxs)(o.a,{children:[Object(O.jsx)(y,{setJWT:c,jwt:a,fixed:"top"}),Object(O.jsx)("div",{className:"outer",children:Object(O.jsx)("div",{className:"inner col-lg-4 col-md-8 col-sm-12",children:Object(O.jsxs)(i.d,{children:[Object(O.jsx)(i.b,{path:"/sign-in",component:function(){return Object(O.jsx)(g,{setJWT:c})}}),Object(O.jsx)(i.b,{path:"/sign-up",component:function(){return Object(O.jsx)(v,{})}}),Object(O.jsx)(F,{path:"/tasks",component:E}),Object(O.jsx)(F,{path:"/alltasks",component:A}),Object(O.jsx)(F,{path:"/logout",component:function(){return Object(O.jsx)(J,{})}}),Object(O.jsx)(F,{path:"/events",component:function(){return Object(O.jsx)(Y,{})}}),Object(O.jsx)(F,{path:"/createTask",component:D}),Object(O.jsx)(i.a,{to:"/sign-in"})]})})})]})})},R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,122)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),n(e),r(e)}))};r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(H,{})}),document.getElementById("root")),R()},63:function(e,t,a){},64:function(e,t,a){}},[[115,1,2]]]);
//# sourceMappingURL=main.d1bcd0da.chunk.js.map